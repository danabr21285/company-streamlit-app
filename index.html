<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Your Advantage Group Broker Portal</title>
  <style>
    :root{
      --bg: #050608;
      --panel: #101218;
      --text: #f5f7fb;
      --muted: #9aa4b8;
      --brand: #1493ff;      /* primary YAG blue */
      --brand-2: #00b4ff;    /* secondary YAG blue */
      --accent: #ffffff;
      --danger: #ef4444;
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,.45);
      --border: 1px solid rgba(255,255,255,.08);
    }
    [data-theme="light"]{
      --bg:#f7fafc;
      --panel:#ffffff;
      --text:#050608;
      --muted:#4b5563;
      --border:1px solid rgba(0,0,0,.08);
    }
    html,body{height:100%;}
    body{
      margin:0;
      background:radial-gradient(circle at top left,#111827 0,#050608 45%,#000000 100%);
      color:var(--text);
      font:500 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
    }
    [data-theme="light"] body{
      background:var(--bg);
    }
    .container{max-width:1200px;margin:0 auto;padding:24px;}
    header{
      display:flex;
      gap:16px;
      align-items:center;
      justify-content:space-between;
      margin-bottom:24px;
      padding:14px 18px;
      border-radius:20px;
      background:var(--panel);
      border:var(--border);
      box-shadow:var(--shadow);
    }
    .brand{
      display:flex;
      align-items:center;
      gap:14px;
    }
    .brand-logo{
      display:flex;
      align-items:center;
      justify-content:center;
      padding:6px 10px;
      border-radius:14px;
      background:radial-gradient(circle at 10% 0%,rgba(0,180,255,.35),transparent 60%);
    }
    .brand-logo img{
      height:52px;
      width:auto;
      display:block;
    }
    .brand-text h1{
      font-size:22px;
      letter-spacing:.06em;
      text-transform:uppercase;
      margin:0 0 4px;
    }
    .brand-text p{
      margin:0;
      font-size:13px;
      color:var(--muted);
    }
    .tag{
      font-size:11px;
      color:#ffffff;
      background:linear-gradient(120deg,var(--brand),var(--brand-2));
      padding:4px 10px;
      border-radius:999px;
      font-weight:700;
      text-transform:uppercase;
      letter-spacing:.16em;
      display:inline-block;
    }
    .controls{display:flex;gap:10px;align-items:center}
    .select, .btn, .input, .textarea{
      background:var(--panel);color:var(--text);border:var(--border);border-radius:12px;padding:10px 12px;
    }
    .btn{cursor:pointer;box-shadow:var(--shadow);border:none}
    .btn.primary{
      background:linear-gradient(120deg,var(--brand),var(--brand-2));
      color:#020617;
      font-weight:800;
    }
    .btn.ghost{
      background:transparent;
      border:1px solid rgba(148,163,184,.7);
    }
    .layout{display:grid;grid-template-columns:260px 1fr;gap:18px}
    @media (max-width: 900px){
      .layout{grid-template-columns:1fr}
      header{flex-direction:column;align-items:flex-start;}
    }
    nav{
      position:sticky;top:18px;
      background:var(--panel);
      border:var(--border);
      border-radius:var(--radius);
      padding:14px;
      box-shadow:var(--shadow)
    }
    .nav-title{
      font-weight:800;
      font-size:13px;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:.18em;
      margin:2px 0 12px
    }
    .tabs{display:grid;gap:6px}
    .tab{
      display:flex;align-items:center;gap:10px;padding:10px 12px;border-radius:12px;cursor:pointer;
      border:var(--border);background:transparent;
      color:var(--muted);
      font-size:14px;
    }
    .tab[aria-selected="true"], .tab:hover{
      background:radial-gradient(circle at 0% 0%,rgba(20,147,255,.25),rgba(15,23,42,1));
      color:var(--text);
      border-color:rgba(59,130,246,.85);
    }
    .tab .dot{width:10px;height:10px;border-radius:999px;background:var(--muted)}
    .tab[data-section="dashboards"] .dot{background:var(--brand-2)}
    .tab[data-section="training"] .dot{background:#38bdf8}
    .tab[data-section="docs"] .dot{background:#a78bfa}
    .tab[data-section="assistant"] .dot{background:var(--brand)}

    main{min-height:60vh}
    .panel{
      background:var(--panel);
      border:var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:18px
    }
    .panel h2{margin:0 0 12px}
    .grid{display:grid;gap:16px}
    .grid.cols-2{grid-template-columns:1fr 1fr}
    @media (max-width: 900px){.grid.cols-2{grid-template-columns:1fr}}
    .kpi{
      display:grid;gap:6px;
      background:var(--panel);
      border-radius:12px;
      padding:12px;
      border:1px solid rgba(148,163,184,.45);
      box-shadow:0 8px 24px rgba(15,23,42,.6);
    }
    .kpi .label{
      color:var(--muted);
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.16em
    }
    .kpi .value{font:800 22px/1.2 system-ui}

    .iframe-wrap{position:relative;border-radius:12px;overflow:hidden;border:var(--border)}
    .iframe-wrap::after{position:absolute;inset:auto 8px 8px 8px;color:var(--muted);font-size:12px;text-align:right}
    iframe{width:100%;height:380px;border:0;background:#020617}

    .video-card{
      display:flex;gap:12px;align-items:center;
      border:var(--border);
      border-radius:12px;
      padding:12px;
      background:var(--panel);
    }
    .video-thumb{
      width:140px;height:84px;
      background:var(--panel);
      border-radius:8px;
      display:grid;place-items:center;
      color:var(--muted);font-weight:700
    }

    .assistant{display:grid;gap:14px}
    .textarea{min-height:110px;resize:vertical}
    .log{
      white-space:pre-wrap;
      background:var(--panel);
      padding:12px;
      border-radius:12px;
      border:var(--border);
      max-height:220px;
      overflow:auto
    }
    .pill{
      display:inline-block;
      padding:3px 8px;
      border-radius:999px;
      background:rgba(20,147,255,.14);
      font-size:12px;
      color:var(--muted);
      text-transform:uppercase;
      letter-spacing:.16em;
    }
    footer{margin:30px 0 10px;color:var(--muted);font-size:12px;text-align:center}
  </style>
</head>
<body>
  <div class="container" id="app">
    <header>
      <div class="brand" aria-label="Your Advantage Group">
        <div class="brand-logo">
          <!-- Absolute URL so it works when embedded in Streamlit -->
          <img src="https://raw.githubusercontent.com/danabr21285/company-streamlit-app/main/YAG.png"
               alt="Your Advantage Group logo">
        </div>
        <div class="brand-text">
          <span class="tag">Your Advantage Group</span>
          <h1>Broker Portal</h1>
          <p>AI-powered hub for Your Advantage Group partners.</p>
        </div>
      </div>
      <div class="controls" role="group" aria-label="Global controls">
        <button class="btn ghost" id="themeBtn" aria-pressed="false" aria-label="Toggle theme">
          ðŸŒ— Theme
        </button>
      </div>
    </header>

    <div class="layout">
      <nav aria-label="Primary">
        <div class="nav-title">Workspace</div>
        <div class="tabs" role="tablist" aria-orientation="vertical">
          <button class="tab" role="tab" aria-selected="true" data-section="dashboards" id="tab-dashboards">
            <span class="dot" aria-hidden="true"></span>
            <span>Dashboards</span>
          </button>
          <button class="tab" role="tab" aria-selected="false" data-section="training" id="tab-training">
            <span class="dot" aria-hidden="true"></span>
            <span>Training</span>
          </button>
          <button class="tab" role="tab" aria-selected="false" data-section="docs" id="tab-docs">
            <span class="dot" aria-hidden="true"></span>
            <span>Docs</span>
          </button>
          <button class="tab" role="tab" aria-selected="false" data-section="assistant" id="tab-assistant">
            <span class="dot" aria-hidden="true"></span>
            <span>AI Assistant</span>
          </button>
        </div>
      </nav>

      <main>
        <!-- Dashboards -->
        <section class="panel" role="tabpanel" aria-labelledby="tab-dashboards" id="dashboards">
          <h2>KPIs & Dashboards</h2>
          <div class="kpi-grid grid cols-2" style="margin-bottom:18px;">
            <div class="kpi">
              <span class="label">Active Users</span>
              <span class="value" id="kpiUsers">â€“</span>
            </div>
            <div class="kpi">
              <span class="label">Satisfaction</span>
              <span class="value" id="kpiSat">â€“</span>
            </div>
          </div>
          <div class="iframe-wrap" style="margin-top:14px">
            <div class='tableauPlaceholder' id='viz1758044477822' style='position: relative'>
              <noscript>
                <a href='#'>
                  <img alt='Dashboard 1 ' src='https://public.tableau.com/static/images/Co/CoffeeChainSalesDashboard_17563906444210/Dashboard1/1_rss.png' style='border: none' />
                </a>
              </noscript>
              <object class='tableauViz' style='display:none;'>
                <param name='host_url' value='https%3A%2F%2Fpublic.tableau.com%2F' />
                <param name='embed_code_version' value='3' />
                <param name='site_root' value='' />
                <param name='name' value='CoffeeChainSalesDashboard_17563906444210/Dashboard1' />
                <param name='tabs' value='no' />
                <param name='toolbar' value='yes' />
                <param name='static_image' value='https://public.tableau.com/static/images/Co/CoffeeChainSalesDashboard_17563906444210/Dashboard1/1.png' />
                <param name='animate_transition' value='yes' />
                <param name='display_static_image' value='yes' />
                <param name='display_spinner' value='yes' />
                <param name='display_overlay' value='yes' />
                <param name='display_count' value='yes' />
                <param name='language' value='en-US' />
              </object>
            </div>
            <script type='text/javascript'>
              var divElement = document.getElementById('viz1758044477822');
              var vizElement = divElement.getElementsByTagName('object')[0];
              if ( divElement.offsetWidth > 800 ) { vizElement.style.width='1000px';vizElement.style.height='827px';}
              else if ( divElement.offsetWidth > 500 ) { vizElement.style.width='1000px';vizElement.style.height='827px';}
              else { vizElement.style.width='100%';vizElement.style.height='1127px';}
              var scriptElement = document.createElement('script');
              scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
              vizElement.parentNode.insertBefore(scriptElement, vizElement);
            </script>
          </div>
        </section>

        <!-- Training -->
        <section class="panel" role="tabpanel" aria-labelledby="tab-training" id="training" hidden>
          <h2>Training Hub</h2>
          <p class="pill" style="margin:6px 0 14px">Video trainings, on demand</p>
          <!-- Video Card 1 -->
          <div class="video-card">
            <div class="video-thumb" style="padding:0;overflow:hidden;width:140px;height:84px;">
              <button style="padding:0;border:none;background:none;cursor:pointer;width:100%;height:100%;" onclick="showVideo('video1', 'OAFKbRntPAQ')">
                <img src="https://img.youtube.com/vi/OAFKbRntPAQ/hqdefault.jpg" 
                  alt="Quick Start Thumbnail" 
                  style="width:100%;height:100%;object-fit:cover;border-radius:8px;">
              </button>
            </div>
            <div>
              <strong>Quick Start (5 min)</strong>
              <p class="muted">A short walkthrough covering navigation, role-based access, and where to find KPIs.</p>
              <button class="btn" onclick="showVideo('video1', 'OAFKbRntPAQ')">â–¶ï¸Ž Watch</button>
              <div id="video1" style="display:none;margin-top:10px;">
                <iframe width="320" height="180" src="" frameborder="0" allowfullscreen></iframe>
              </div>
            </div>
          </div>
          <!-- Video Card 2 -->
          <div class="video-card">
            <div class="video-thumb" style="padding:0;overflow:hidden;width:140px;height:84px;">
              <button style="padding:0;border:none;background:none;cursor:pointer;width:100%;height:100%;" onclick="showVideo('video2', 'N-GC9FYA8ug')">
                <img src="https://img.youtube.com/vi/N-GC9FYA8ug/hqdefault.jpg" 
                  alt="Deep Dive Thumbnail" 
                  style="width:100%;height:100%;object-fit:cover;border-radius:8px;">
              </button>
            </div>
            <div>
              <strong>Deep Dive: Dashboards (12 min)</strong>
              <p class="muted">Learn how to filter, export, and interpret each dashboard widget.</p>
              <button class="btn" onclick="showVideo('video2', 'N-GC9FYA8ug')">â–¶ï¸Ž Watch</button>
              <div id="video2" style="display:none;margin-top:10px;">
                <iframe width="320" height="180" src="" frameborder="0" allowfullscreen></iframe>
              </div>
            </div>
          </div>
        </section>
        <script>
        function showVideo(divId, youtubeId) {
          document.querySelectorAll('.video-card div[id^="video"]').forEach(div => {
            div.style.display = 'none';
            if (div.querySelector('iframe')) div.querySelector('iframe').src = '';
          });
          var vidDiv = document.getElementById(divId);
          vidDiv.style.display = 'block';
          vidDiv.querySelector('iframe').src = "https://www.youtube.com/embed/" + youtubeId + "?autoplay=1";
        }
        </script>

        <!-- Docs -->
        <section class="panel" role="tabpanel" aria-labelledby="tab-docs" id="docs" hidden>
          <h2>Documentation</h2>
          <div class="grid">
            <div>
              <h3>Playbooks</h3>
              <ul>
                <li>
                  <a href="https://docs.google.com/document/d/1pvpzDhBTOaJVZWtETrPLbA8OrCgsSyCH1kffBzerhtY/edit?usp=sharing" target="_blank" rel="noopener">
                    Incident Response SOP
                  </a>
                </li>
                <li>
                  <a href="https://docs.google.com/document/d/1n8ugI_zJ4M01RuDbSzKF9YwfRd8s9BQKEnSCgkhHoSg/edit?usp=sharing" target="_blank" rel="noopener">
                    Quarterly Planning Guide
                  </a>
                </li>
              </ul>
            </div>
            <div>
              <h3>How-tos</h3>
              <ul>
                <li>
                  <a href="https://docs.google.com/document/d/1wnJDBCNRNOOF37eLl51nofBBWNmycsUrxswRANE1omg/edit?usp=sharing" target="_blank" rel="noopener">
                    Export a KPI snapshot for your region
                  </a>
                </li>
                <li>
                  <a href="https://docs.google.com/document/d/1Ss_dfVnaCM1h5uP4vFp-SeuQJ6T6UnR0jyziOsMysqQ/edit?usp=sharing" target="_blank" rel="noopener">
                    Submit a change request
                  </a>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- Assistant -->
        <section class="panel" role="tabpanel" aria-labelledby="tab-assistant" id="assistant" hidden>
          <h2>AI Assistant</h2>
          <div class="assistant">
            <label for="prompt" class="pill">Ask a question or paste a task</label>
            <textarea id="prompt" class="textarea" placeholder="e.g., Summarize top 3 risks this week and suggest actions."></textarea>
            <div class="controls">
              <label for="temp">Tone</label>
              <select id="temp" class="select" aria-label="Tone">
                <option value="neutral">Neutral</option>
                <option value="executive">Executive</option>
                <option value="coaching">Coaching</option>
              </select>
              <button id="run" class="btn primary">Generate</button>
            </div>
            <div id="output" class="log" aria-live="polite">The assistant will respond here.</div>
          </div>
        </section>
      </main>
    </div>
    <footer>
      Your Advantage Group &middot; Internal broker portal demo (no backend required).
    </footer>
  </div>
  <script>
    // --- KPI data (single "location") ---
    const KPI = { users: 1280, sat: 4.6 };

    // --- Theme toggle with localStorage ---
    const themeBtn = document.getElementById('themeBtn');
    const savedTheme = localStorage.getItem('theme') || 'dark';
    document.documentElement.setAttribute('data-theme', savedTheme);
    themeBtn.setAttribute('aria-pressed', savedTheme === 'light');
    themeBtn.addEventListener('click', () => {
      const cur = document.documentElement.getAttribute('data-theme') || 'dark';
      const next = cur === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      themeBtn.setAttribute('aria-pressed', next === 'light');
    });

    // --- Tabs (accessible) ---
    const sections = ['dashboards','training','docs','assistant'];
    const tabButtons = document.querySelectorAll('.tab');
    tabButtons.forEach(btn => btn.addEventListener('click', () => selectTab(btn.dataset.section)));

    function selectTab(id){
      sections.forEach(sec => {
        const panel = document.getElementById(sec);
        const tab = document.querySelector(`.tab[data-section="${sec}"]`);
        const selected = sec === id;
        panel.hidden = !selected;
        tab.setAttribute('aria-selected', String(selected));
      });
    }

    // Keyboard nav for tabs
    document.querySelector('[role="tablist"]').addEventListener('keydown', (e) => {
      const current = document.activeElement.closest('.tab');
      if(!current) return;
      const idx = Array.from(tabButtons).indexOf(current);
      if(e.key === 'ArrowDown' || e.key === 'ArrowRight'){
        const next = tabButtons[(idx+1)%tabButtons.length]; next.focus();
      } else if(e.key === 'ArrowUp' || e.key === 'ArrowLeft'){
        const prev = tabButtons[(idx-1+tabButtons.length)%tabButtons.length]; prev.focus();
      } else if(e.key === 'Enter' || e.key === ' '){ current.click(); }
    });

    // --- Initialize KPIs ---
    function initKpis(){
      document.getElementById('kpiUsers').textContent = KPI.users.toLocaleString();
      document.getElementById('kpiSat').textContent = `${KPI.sat.toFixed(1)} / 5.0`;
    }
    initKpis();

    // --- Assistant (mock, no backend) ---
    const runBtn = document.getElementById('run');
    if(runBtn){
      runBtn.addEventListener('click', () => {
        const tone = document.getElementById('temp').value;
        const prompt = (document.getElementById('prompt').value || '').trim();
        const base = `Summary: Active users ${KPI.users}, satisfaction ${KPI.sat.toFixed(1)}.\n`;
        const toneLine = tone === 'executive' ? 'Action: focus on high-impact items for this quarter.'
                        : tone === 'coaching' ? 'Action: small weekly improvements compounded over time will move the KPI.'
                        : 'Action: review the dashboard and align on next steps.';
        const echo = prompt ? `\nYou asked: "${prompt}"` : '';
        const recs = `\nRecommendations:\nâ€¢ Prioritize top 3 blockers.\nâ€¢ Capture a KPI snapshot after changes.\nâ€¢ Share update in the portal.`;
        document.getElementById('output').textContent =
          base + toneLine + echo + recs + "\n\n(Connect a real model by calling your API in this handler.)";
      });
    }
  </script>
</body>
</html>
















